(()=>{var e={};e.id=6265,e.ids=[6265],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},84050:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=s(70260),r=s(28203),l=s(25155),n=s.n(l),o=s(67292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["(frontend)",{children:["(employer)",{children:["manageEmployee",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,27258)),"C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\(frontend)\\(employer)\\manageEmployee\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\(frontend)\\(employer)\\manageEmployee\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(frontend)/(employer)/manageEmployee/page",pathname:"/manageEmployee",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4209:(e,t,s)=>{Promise.resolve().then(s.bind(s,27258))},10833:(e,t,s)=>{Promise.resolve().then(s.bind(s,55298))},55298:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(45512),r=s(6355),l=s(58009),n=s(79334),o=s(79727);let i=({isModalOpen:e,closeModal:t,employee:s})=>{let[r,n]=(0,l.useState)([]),[o,i]=(0,l.useState)([]),[d,c]=(0,l.useState)(1),[m,p]=(0,l.useState)(""),[u,x]=(0,l.useState)("");(0,l.useEffect)(()=>{s&&(async()=>{try{let e=await fetch(`/employerAPI/checkAttendance?employeeId=${s.employeeId}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&Array.isArray(t.employees)?(n(t.employees),i(t.employees)):(n([]),i([])),console.log("Employee Attendance:",t)}catch(e){console.error("Error fetching attendance:",e),n([]),i([])}})()},[s]),(0,l.useEffect)(()=>{if(!m||!u){i(r);return}i(r.filter(e=>{let t=new Date(e.date);return t>=new Date(m)&&t<=new Date(u)})),c(1)},[m,u,r]);let h=5*d,b=o.slice(h-5,h),g=Math.ceil(o.length/5);return(0,a.jsx)("div",{children:(0,a.jsx)("dialog",{id:"attendance_modal",className:"modal",open:e,children:(0,a.jsxs)("div",{className:"modal-box w-11/12 max-w-5xl bg-white",children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:"View Attendance"}),s?(0,a.jsxs)("p",{className:"py-4",children:["Name: ",s.name]}):(0,a.jsx)("p",{className:"py-4",children:"No employee selected."}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsx)("label",{className:"text-black",children:"Start Date:"}),(0,a.jsx)("input",{type:"date",value:m,onChange:e=>p(e.target.value),className:"border p-1"}),(0,a.jsx)("label",{className:"text-black",children:"End Date:"}),(0,a.jsx)("input",{type:"date",value:u,onChange:e=>x(e.target.value),className:"border p-1"}),(0,a.jsx)("button",{className:"btn btn-sm bg-gray-500 text-white",onClick:()=>{p(""),x(""),i(r)},children:"Reset"})]}),(0,a.jsx)("div",{className:"overflow-x-auto min-h-[450px]",children:(0,a.jsxs)("table",{className:"table table-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-200",children:[(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Date"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Time in"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Time out"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Hours Rendered"})]})}),(0,a.jsx)("tbody",{children:b.length>0?b.map(e=>{let t=new Date(e.date).toLocaleDateString(),s=e.timeIn?new Date(e.timeIn).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",r=e.timeOut?new Date(e.timeOut).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A";return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:t}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:s}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:r}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.duration?`${e.duration} mins`:"N/A"})]},e.id)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"text-center p-4 text-gray-500",children:"No attendance records found."})})})]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)("button",{className:`btn ${1===d?"btn-disabled":""}`,onClick:()=>c(e=>Math.max(e-1,1)),children:"Previous"}),(0,a.jsxs)("span",{className:"text-black",children:["Page ",d," of ",g]}),(0,a.jsx)("button",{className:`btn ${d===g||0===o.length?"btn-disabled":""}`,onClick:()=>c(e=>Math.min(e+1,g)),children:"Next"})]}),(0,a.jsx)("div",{className:"modal-action",children:(0,a.jsx)("form",{method:"dialog",children:(0,a.jsx)("button",{className:"btn",onClick:()=>{document.getElementById("attendance_modal").close(),t()},children:"Close"})})})]})})})};var d=s(45435);let c=({isOpen:e,onClose:t,employee:s,onUpdate:r,alertMessage:n,setAlertMessage:o,setNewEmployee:i,newEmployee:d,setNewUser:c,newUser:m})=>{let[p,u]=(0,l.useState)(null),[x,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s?(u(s),i({name:s.name||"",email:s.email||"",position:s.position||"",department:s.department||"",contactNumber:s.contactNumber||"",address:s.address||"",scheduleTimeIn:s.scheduleTimeIn||"",scheduleTimeOut:s.scheduleTimeOut||""}),c({password:s.password||"",role:s.role||"",status:s.status||"",email:s.email||"",name:s.name||""})):(u(null),i({name:"",email:"",position:"",department:"",contactNumber:"",address:"",scheduleTimeIn:"",scheduleTimeOut:""}),c({password:"",role:""})),o(""),h(!1)},[s,i,c]);let b=()=>d.name!==p?.name||d.email!==p?.email||d.position!==p?.position||d.department!==p?.department||d.contactNumber!==p?.contactNumber||d.address!==p?.address||d.scheduleTimeIn!==p?.scheduleTimeIn||d.scheduleTimeIn!==p?.scheduleTimeOut||m.role!==p?.role||""!==m.password;console.log(d);let g=async()=>{try{if(!b()){t();return}if(!d.name||!d.email||!d.position||!m.password||!m.role){o("⚠️ Please fill in all required fields (Name, Email, Position, Password, Role).");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)){o("⚠️ Warning: Invalid email address!");return}o("");let e={...m,name:d.name,email:d.email};c(e);let a=await fetch(`/employerAPI/editUser/${s.employeeId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to register employee")}let l={...d};if(i(l),!(await fetch(`/employerAPI/editEmployee/${s.employeeId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok)throw Error("Failed to update employee");o("✅ Employee updated successfully!"),h(!0),setTimeout(()=>{h(!1),o(""),t()},2e3),r()}catch(e){o(`❌ Error: ${e.message}`),h(!0)}};return e&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-[60vw] max-w-4xl",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Edit Employee"}),n&&(0,a.jsxs)("div",{role:"alert",className:"flex items-center gap-2 p-3 rounded bg-yellow-100 text-yellow-700 border border-yellow-400 mb-4",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsx)("span",{children:n})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700",children:"Role"}),(0,a.jsxs)("select",{className:"border p-2 rounded w-full bg-white text-black",value:m.role,onChange:e=>c({...m,role:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Select Role"}),(0,a.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,a.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,a.jsx)("label",{className:"block text-gray-700 mt-2",children:"Name"}),(0,a.jsx)("input",{type:"text",placeholder:"Name",className:"border p-2 rounded w-full",value:d.name,onChange:e=>i({...d,name:e.target.value})}),(0,a.jsx)("label",{className:"block text-gray-700 mt-2",children:"Email"}),(0,a.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2 rounded w-full",value:d.email,onChange:e=>i({...d,email:e.target.value})}),(0,a.jsx)("label",{className:"block text-gray-700 mt-2",children:"Password"}),(0,a.jsx)("input",{type:"password",placeholder:"Password",className:"border p-2 rounded w-full",value:m.password,onChange:e=>c({...m,password:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700",children:"Position"}),(0,a.jsx)("input",{type:"text",placeholder:"Position",className:"border p-2 rounded w-full",value:d.position,onChange:e=>i({...d,position:e.target.value})}),(0,a.jsx)("label",{className:"block text-gray-700 mt-2",children:"Department"}),(0,a.jsx)("input",{type:"text",placeholder:"Department",className:"border p-2 rounded w-full",value:d.department,onChange:e=>i({...d,department:e.target.value})}),(0,a.jsx)("label",{className:"block text-gray-700 mt-2",children:"Contact No."}),(0,a.jsx)("input",{type:"text",placeholder:"Contact No.",className:"border p-2 rounded w-full",value:d.contactNumber,onChange:e=>i({...d,contactNumber:e.target.value})}),(0,a.jsx)("label",{className:"block text-gray-700 mt-2",children:"Address"}),(0,a.jsx)("input",{type:"text",placeholder:"Address",className:"border p-2 rounded w-full",value:d.address,onChange:e=>i({...d,address:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700",children:"Schedule Time In"}),(0,a.jsx)("input",{type:"time",className:"border p-2 rounded w-full",value:d.scheduleTimeIn,onChange:e=>i({...d,scheduleTimeIn:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700",children:"Schedule Time Out"}),(0,a.jsx)("input",{type:"time",className:"border p-2 rounded w-full",value:d.scheduleTimeOut,onChange:e=>i({...d,scheduleTimeOut:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end mt-6",children:[(0,a.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:()=>t(),children:"Cancel"}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:g,children:"Update"})]})]})})},m=({isOpen:e,onClose:t,employee:s,alertMessage:r})=>{if(!e)return null;let l=(0,n.useRouter)(),o=async()=>{try{if(!(await fetch(`/employerAPI/deleteUser/${s.employeeId}`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).ok)throw Error("Failed to delete employee");t(),l.push("/manageEmployee")}catch(e){console.error("❌ Error deleting employee:",e),alert(`❌ Error: ${e.message}`)}};return(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Delete Employee"}),r&&(0,a.jsxs)("div",{className:"alert alert-warning flex items-center gap-2 p-3 rounded bg-yellow-100 text-yellow-700 border border-yellow-400",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsx)("span",{children:r})]}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete ",(0,a.jsx)("strong",{children:s?.name}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex justify-end",children:[(0,a.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:t,children:"Cancel"}),(0,a.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:o,children:"Delete"})]})]})})},p=()=>{let[e,t]=(0,l.useState)([]),[s,p]=(0,l.useState)(""),[u,x]=(0,l.useState)(null),[h,b]=(0,l.useState)(!1),[g,y]=(0,l.useState)(""),[j,w]=(0,l.useState)(1),[N,f]=(0,l.useState)(null),[v,k]=(0,l.useState)(!1),C=(0,l.useRef)(null),[E,S]=(0,l.useState)(null),[P,A]=(0,l.useState)(!1),[T,I]=(0,l.useState)(!1),[M,D]=(0,l.useState)(null),[L,F]=(0,l.useState)(""),[O,q]=(0,l.useState)(!1),[R,U]=(0,l.useState)(""),_=()=>{f(null)},$=e=>{x(e),k(!0)},[z,W]=(0,l.useState)({name:"",email:"",position:"",department:"",contactNumber:"",address:"",scheduleTimein:"",scheduleTimeout:""}),[H,G]=(0,l.useState)({password:"",status:"Active",name:"",email:"",role:""}),J=(0,n.useRouter)();(0,l.useEffect)(()=>{localStorage.getItem("authToken")?B():J.push("/")},[]);let B=async()=>{try{let e=await fetch("/employerAPI/employee");if(!e.ok)throw Error("Failed to fetch employees");let s=await e.json(),a=await fetch("/employerAPI/user");if(!a.ok)throw Error("Failed to fetch users");let r=await a.json(),l=s.map(e=>{let t=r.find(t=>t.email===e.email);return t?{...e,status:t.status,password:t.password,role:t.role}:e});t(l)}catch(e){console.error("Error fetching employees or users:",e)}},V=e=>{f(N===e?null:e)},Y=async()=>{try{let e=await fetch("/employerAPI/register");if(!e.ok)throw Error("Failed to fetch employee ID");let t=(await e.json()).employeeId;if(!z.name||!z.email||!z.position||!H.password||!H.role){y("⚠️ Please fill in all required fields (Name, Email, Position, Password, Role).");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.email)){y("⚠️ Warning: Invalid email address!");return}y("");let s={...H,employeeId:t,name:z.name,email:z.email,status:"Active"},a=await fetch("/employerAPI/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to register employee")}await a.json();let r={...z,email:z.email,employeeId:t},l=await fetch("/employerAPI/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){let e=await l.json();throw Error(e.error||"Failed to register employee")}b(!1),W({name:"",email:"",position:"",department:"",contactNumber:"",address:""}),G({password:"",status:"Active",name:"",email:"",role:""}),q(!0),F("User Registered Successfully"),U("alert-success"),setTimeout(()=>{console.log("Hiding toast now..."),q(!1)},3e3),B()}catch(e){y(`❌ Error: ${e.message}`)}},K=e.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.position.toLowerCase().includes(s.toLowerCase())||e.department.toLowerCase().includes(s.toLowerCase())),X=Math.ceil(K.length/5),Q=5*j,Z=K.slice(Q-5,Q),ee=e=>{e>=1&&e<=X&&w(e)};return(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search employees...",className:"border p-2 rounded w-1/3 bg-white text-black",value:s,onChange:e=>{p(e.target.value),w(1)}}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>b(!0),children:"Add Employee"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1",children:(0,a.jsxs)("div",{className:"card bg-white shadow-xl text-black p-10 ",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Employee List"}),O&&(0,a.jsx)(d.A,{toastMessage:L,toastStatus:R}),(0,a.jsxs)("div",{className:"overflow-x-auto min-h-[450px]",children:[(0,a.jsxs)("table",{className:"table table-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-200",children:[(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Employee ID"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Email"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Position"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Department"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:Z.length>0?Z.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.name}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.employeeId}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.email}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.position}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.status}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.department}),(0,a.jsx)("td",{className:"px-4 py-2 border-b text-black text-center relative",children:(0,a.jsxs)("div",{className:"relative inline-block",ref:C,onMouseLeave:_,children:[(0,a.jsx)("button",{className:"p-2 rounded-md hover:bg-gray-200",onClick:()=>V(e.id),children:(0,a.jsx)(o.A,{className:"w-5 h-5"})}),N===e.id&&(0,a.jsxs)("div",{className:"absolute right-0 w-32 bg-white border rounded-md shadow-md z-10",children:[(0,a.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:()=>{S(e),A(!0)},children:"Edit"}),(0,a.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:()=>{D(e),I(!0)},children:"Delete"}),(0,a.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:()=>{$(e)},children:"View Attendance"})]})]})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"text-center p-4 text-gray-500",children:"No employees found."})})})]}),(0,a.jsx)(i,{isModalOpen:v,closeModal:()=>{k(!1)},employee:u})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded",onClick:()=>ee(j-1),disabled:1===j,children:"Previous"}),(0,a.jsxs)("div",{className:"text-center text-black",children:["Page ",j," of ",X]}),(0,a.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded",onClick:()=>ee(j+1),disabled:j===X,children:"Next"})]})]})})]}),h&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:'"Add Employee"'}),g&&(0,a.jsxs)("div",{role:"alert",className:"alert alert-warning flex items-center gap-2 p-3 rounded bg-yellow-100 text-yellow-700 border border-yellow-400",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsx)("span",{children:g})]}),(0,a.jsxs)("select",{className:"border p-2 rounded w-full mb-2 mt-5 bg-white text-gray-600",value:H.role,onChange:e=>G({...H,role:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Select Role"}),(0,a.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,a.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Name",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>W({...z,name:e.target.value})}),(0,a.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>W({...z,email:e.target.value})}),(0,a.jsx)("input",{type:"password",placeholder:"Password",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>G({...H,password:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Position",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>W({...z,position:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Department",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>W({...z,department:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Contact no.",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>W({...z,contactNumber:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Address",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>W({...z,address:e.target.value})}),(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsxs)("div",{className:"w-1/2 pr-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Schedule Check-in"}),(0,a.jsx)("input",{className:"border p-2 rounded w-full",type:"time",value:z.scheduleTimein,onChange:e=>W({...z,scheduleTimein:e.target.value})})]}),(0,a.jsxs)("div",{className:"w-1/2 pl-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Schedule Timeout"}),(0,a.jsx)("input",{className:"border p-2 rounded w-full",type:"time",value:z.scheduleTimeout,onChange:e=>W({...z,scheduleTimeout:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end",children:[(0,a.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:()=>{b(!1),A(!1)},children:"Cancel"}),(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:Y,children:'"Add"'})]})]})}),(0,a.jsx)(c,{isOpen:P,onClose:()=>{A(!1),B()},employee:E,onUpdate:()=>{console.log("Toast should appear now!"),F("User Update Successfully"),U("alert-success"),q(!0),B(),S(null),setTimeout(()=>{console.log("Hiding toast now..."),q(!1)},3e3)},alertMessage:g,setAlertMessage:y,setNewEmployee:W,newEmployee:z,setNewUser:G,newUser:H}),(0,a.jsx)(m,{isOpen:T,onClose:()=>{I(!1),B()},employee:M,alertMessage:g})]})}},45435:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(45512);s(58009);let r=function({toastMessage:e,toastStatus:t}){return(0,a.jsx)("div",{className:"toast",children:(0,a.jsx)("div",{className:`alert ${t}`,children:(0,a.jsx)("span",{className:"text-white",children:e})})})}},6355:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(45512),r=s(28531),l=s.n(r),n=s(58009),o=s(79334),i=s(51255),d=s(48320),c=s(35120),m=s(25637),p=s(45103);let u=()=>{let[e,t]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1),[h,b]=(0,n.useState)(null),[g,y]=(0,n.useState)(!1),j=(0,o.useRouter)(),w=(0,o.usePathname)(),N={"/employerDashboard":"Dashboard","/employeeMonitoring":"Employee Monitoring","/approvalRequest":"Approval Request","/manageEmployee":"Manage Employee","/employerReports":"Reports","/screenCaptureMonitoring":"Screen Capture"},f=N[w]||"Dashboard";return(0,n.useEffect)(()=>{let e=localStorage.getItem("user");e&&b(JSON.parse(e))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("nav",{className:"bg-white shadow-md text-gray-600 relative z-50",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{className:"md:hidden text-red mr-3",onClick:()=>t(!e),children:e?(0,a.jsx)(i.A,{className:"w-6 h-6"}):(0,a.jsx)(d.A,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"hidden md:flex space-x-6",children:Object.keys(N).map(e=>(0,a.jsx)(l(),{href:e,className:`${w===e?"bg-[#FFFFFF] text-gray-700 font-semibold text-lg":"text-gray-400 text-base"} hover:bg-[#FFFFFF] hover:text-black px-2 py-2 rounded`,children:N[e]},e))})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{className:"flex items-center space-x-2 text-black",onClick:()=>r(!s),children:[(0,a.jsx)("div",{className:"avatar avatar-online",children:(0,a.jsx)("div",{className:"w-9 h-9 rounded-full ring ",children:(0,a.jsx)(p.default,{src:"/img/user-icon.png",alt:"User Icon",width:60,height:60,className:"w-14 h-14 mr-4"})})}),(0,a.jsx)("span",{className:"text-gray-600",children:h?h.name:"Loading..."})]}),s&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black rounded-lg shadow-lg",children:[(0,a.jsxs)("div",{className:"p-2 border-b",children:[(0,a.jsx)("p",{className:"text-sm font-semibold",children:h?h.name:"Unknown"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:h?h.email:"No Email"})]}),(0,a.jsxs)("button",{onClick:()=>{r(!1),x(!0),setTimeout(()=>{x(!1),localStorage.removeItem("user"),localStorage.removeItem("authToken"),j.push("/")},2e3)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 flex items-center",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 mr-2"}),"Logout"]})]})]})]}),(0,a.jsx)("div",{className:`${e?"block":"hidden"} md:hidden bg-[#135D66] py-2`,children:Object.keys(N).map(e=>(0,a.jsx)(l(),{href:e,className:`${w===e?"bg-[#0F4A55]":""} block px-4 py-2 text-white hover:bg-[#0F4A55]`,children:N[e]},e))}),u&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-green-600 text-white p-3 rounded-lg shadow-lg flex items-center",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 mr-2"}),"Logging out..."]})]}),(0,a.jsx)("div",{className:"container mx-auto mt-6 p-6 bg-gray-700 shadow-xl flex justify-between items-center",children:(0,a.jsx)("h1",{className:"text-xl font-semibold text-white",children:f})})]})}},27258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\justin\\\\Desktop\\\\vercel\\\\WFH-Monitoring\\\\src\\\\app\\\\(frontend)\\\\(employer)\\\\manageEmployee\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\(frontend)\\(employer)\\manageEmployee\\page.tsx","default")},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(88077);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},79727:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(94825).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,114,8077,1492,9159],()=>s(84050));module.exports=a})();