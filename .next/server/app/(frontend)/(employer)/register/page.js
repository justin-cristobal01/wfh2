(()=>{var e={};e.id=5691,e.ids=[5691],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},57718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=r(70260),a=r(28203),o=r(25155),n=r.n(o),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["(frontend)",{children:["(employer)",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,48928)),"C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\(frontend)\\(employer)\\register\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\(frontend)\\(employer)\\register\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(frontend)/(employer)/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},95107:(e,t,r)=>{Promise.resolve().then(r.bind(r,48928))},60763:(e,t,r)=>{Promise.resolve().then(r.bind(r,13532))},79334:(e,t,r)=>{"use strict";var s=r(58686);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},13532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(45512),a=r(58009),o=r(79334),n=r(45435);let i=()=>{let[e,t]=(0,a.useState)(""),[r,i]=(0,a.useState)(!1),[l,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[g,f]=(0,a.useState)({name:"",email:"",position:"",department:"",contactNumber:"",address:"",scheduleTimein:"",scheduleTimeout:""}),v=(0,o.useRouter)(),[b,y]=(0,a.useState)({password:"",status:"Active",name:"",email:"",role:""}),j=async()=>{v.push("/")},w=async()=>{try{let e=await fetch("/employerAPI/register");if(!e.ok)throw Error("Failed to fetch employee ID");let r=(await e.json()).employeeId;if(console.log(r),!g.name||!g.email||!g.position||!b.password||!b.role){t("⚠️ Please fill in all required fields.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)){t("⚠️ Invalid email address!");return}t("");let s={...b,employeeId:r,name:g.name,email:g.email,status:"Active"};if(!(await fetch("/employerAPI/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to create user");let a={...g,employeeId:r};if(!(await fetch("/employerAPI/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error("Failed to register employee");d("Registered Succesfully"),p("alert-success"),i(!0),f({name:"",email:"",position:"",department:"",contactNumber:"",address:"",scheduleTimein:"",scheduleTimeout:""}),y({password:"",status:"Active",name:"",email:"",role:""}),setTimeout(()=>{v.push("/")},2e3)}catch(e){t(`❌ Error: ${e.message}`)}};return(0,s.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Register Employee"}),e&&(0,s.jsx)("div",{className:"text-red-500 mb-2",children:e}),(0,s.jsxs)("select",{className:"border p-2 rounded w-full mb-2 bg-white text-gray-700",value:b.role,onChange:e=>y({...b,role:e.target.value}),children:[(0,s.jsx)("option",{value:"",children:"Select Role"}),(0,s.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,s.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Name",className:"border p-2 rounded w-full mb-2",value:g.name,onChange:e=>f({...g,name:e.target.value})}),(0,s.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2 rounded w-full mb-2",value:g.email,onChange:e=>f({...g,email:e.target.value})}),(0,s.jsx)("input",{type:"password",placeholder:"Password",className:"border p-2 rounded w-full mb-2",value:b.password,onChange:e=>y({...b,password:e.target.value})}),(0,s.jsx)("input",{type:"text",placeholder:"Position",className:"border p-2 rounded w-full mb-2",value:g.position,onChange:e=>f({...g,position:e.target.value})}),(0,s.jsx)("input",{type:"text",placeholder:"Department",className:"border p-2 rounded w-full mb-2",value:g.department,onChange:e=>f({...g,department:e.target.value})}),(0,s.jsx)("input",{type:"text",placeholder:"Contact no.",className:"border p-2 rounded w-full mb-2",value:g.contactNumber,onChange:e=>f({...g,contactNumber:e.target.value})}),(0,s.jsx)("input",{type:"text",placeholder:"Address",className:"border p-2 rounded w-full mb-2",value:g.address,onChange:e=>f({...g,address:e.target.value})}),(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("div",{className:"w-1/2 pr-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Schedule Check-in"}),(0,s.jsx)("input",{className:"border p-2 rounded w-full",type:"time",value:g.scheduleTimein,onChange:e=>f({...g,scheduleTimein:e.target.value})})]}),(0,s.jsxs)("div",{className:"w-1/2 pl-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Schedule Timeout"}),(0,s.jsx)("input",{className:"border p-2 rounded w-full",type:"time",value:g.scheduleTimeout,onChange:e=>f({...g,scheduleTimeout:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end",children:[(0,s.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:j,children:"Cancel"}),(0,s.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:w,children:"Register"})]})]}),r&&(0,s.jsx)(n.A,{toastMessage:l,toastStatus:u})]})}},45435:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(45512);r(58009);let a=function({toastMessage:e,toastStatus:t}){return(0,s.jsx)("div",{className:"toast",children:(0,s.jsx)("div",{className:`alert ${t}`,children:(0,s.jsx)("span",{className:"text-white",children:e})})})}},48928:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\justin\\\\Desktop\\\\vercel\\\\WFH-Monitoring\\\\src\\\\app\\\\(frontend)\\\\(employer)\\\\register\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\justin\\Desktop\\vercel\\WFH-Monitoring\\src\\app\\(frontend)\\(employer)\\register\\page.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,114,8077,9159],()=>r(57718));module.exports=s})();