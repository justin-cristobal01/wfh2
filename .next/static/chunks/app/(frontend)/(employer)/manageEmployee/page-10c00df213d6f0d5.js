(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6265],{83471:(e,t,s)=>{Promise.resolve().then(s.bind(s,50947))},50947:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var l=s(95155),a=s(93137),r=s(12115),n=s(76046),o=s(72757);let i=e=>{let{isModalOpen:t,closeModal:s,employee:a}=e,[n,o]=(0,r.useState)([]),[i,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(1),[x,u]=(0,r.useState)(""),[h,p]=(0,r.useState)("");(0,r.useEffect)(()=>{a&&(async()=>{try{let e=await fetch("/employerAPI/checkAttendance?employeeId=".concat(a.employeeId),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();t&&Array.isArray(t.employees)?(o(t.employees),c(t.employees)):(o([]),c([])),console.log("Employee Attendance:",t)}catch(e){console.error("Error fetching attendance:",e),o([]),c([])}})()},[a]),(0,r.useEffect)(()=>{if(!x||!h){c(n);return}c(n.filter(e=>{let t=new Date(e.date);return t>=new Date(x)&&t<=new Date(h)})),m(1)},[x,h,n]);let b=5*d,g=i.slice(b-5,b),y=Math.ceil(i.length/5);return(0,l.jsx)("div",{children:(0,l.jsx)("dialog",{id:"attendance_modal",className:"modal",open:t,children:(0,l.jsxs)("div",{className:"modal-box w-11/12 max-w-5xl bg-white",children:[(0,l.jsx)("h3",{className:"font-bold text-lg",children:"View Attendance"}),a?(0,l.jsxs)("p",{className:"py-4",children:["Name: ",a.name]}):(0,l.jsx)("p",{className:"py-4",children:"No employee selected."}),(0,l.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,l.jsx)("label",{className:"text-black",children:"Start Date:"}),(0,l.jsx)("input",{type:"date",value:x,onChange:e=>u(e.target.value),className:"border p-1"}),(0,l.jsx)("label",{className:"text-black",children:"End Date:"}),(0,l.jsx)("input",{type:"date",value:h,onChange:e=>p(e.target.value),className:"border p-1"}),(0,l.jsx)("button",{className:"btn btn-sm bg-gray-500 text-white",onClick:()=>{u(""),p(""),c(n)},children:"Reset"})]}),(0,l.jsx)("div",{className:"overflow-x-auto min-h-[450px]",children:(0,l.jsxs)("table",{className:"table table-xs",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-200",children:[(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Date"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Time in"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Time out"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Hours Rendered"})]})}),(0,l.jsx)("tbody",{children:g.length>0?g.map(e=>{let t=new Date(e.date).toLocaleDateString(),s=e.timeIn?new Date(e.timeIn).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",a=e.timeOut?new Date(e.timeOut).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A";return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:t}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:s}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:a}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.duration?"".concat(e.duration," mins"):"N/A"})]},e.id)}):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"5",className:"text-center p-4 text-gray-500",children:"No attendance records found."})})})]})}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,l.jsx)("button",{className:"btn ".concat(1===d?"btn-disabled":""),onClick:()=>m(e=>Math.max(e-1,1)),children:"Previous"}),(0,l.jsxs)("span",{className:"text-black",children:["Page ",d," of ",y]}),(0,l.jsx)("button",{className:"btn ".concat(d===y||0===i.length?"btn-disabled":""),onClick:()=>m(e=>Math.min(e+1,y)),children:"Next"})]}),(0,l.jsx)("div",{className:"modal-action",children:(0,l.jsx)("form",{method:"dialog",children:(0,l.jsx)("button",{className:"btn",onClick:()=>{document.getElementById("attendance_modal").close(),s()},children:"Close"})})})]})})})};var c=s(90919);let d=e=>{let{isOpen:t,onClose:s,employee:a,onUpdate:n,alertMessage:o,setAlertMessage:i,setNewEmployee:c,newEmployee:d,setNewUser:m,newUser:x}=e,[u,h]=(0,r.useState)(null),[p,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a?(h(a),c({name:a.name||"",email:a.email||"",position:a.position||"",department:a.department||"",contactNumber:a.contactNumber||"",address:a.address||"",scheduleTimeIn:a.scheduleTimeIn||"",scheduleTimeOut:a.scheduleTimeOut||""}),m({password:a.password||"",role:a.role||"",status:a.status||"",email:a.email||"",name:a.name||""})):(h(null),c({name:"",email:"",position:"",department:"",contactNumber:"",address:"",scheduleTimeIn:"",scheduleTimeOut:""}),m({password:"",role:""})),i(""),b(!1)},[a,c,m]);let g=()=>d.name!==(null==u?void 0:u.name)||d.email!==(null==u?void 0:u.email)||d.position!==(null==u?void 0:u.position)||d.department!==(null==u?void 0:u.department)||d.contactNumber!==(null==u?void 0:u.contactNumber)||d.address!==(null==u?void 0:u.address)||d.scheduleTimeIn!==(null==u?void 0:u.scheduleTimeIn)||d.scheduleTimeIn!==(null==u?void 0:u.scheduleTimeOut)||x.role!==(null==u?void 0:u.role)||""!==x.password;console.log(d);let y=async()=>{try{if(!g()){s();return}if(!d.name||!d.email||!d.position||!x.password||!x.role){i("⚠️ Please fill in all required fields (Name, Email, Position, Password, Role).");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)){i("⚠️ Warning: Invalid email address!");return}i("");let e={...x,name:d.name,email:d.email};m(e);let t=await fetch("/employerAPI/editUser/".concat(a.employeeId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to register employee")}let l={...d};if(c(l),!(await fetch("/employerAPI/editEmployee/".concat(a.employeeId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok)throw Error("Failed to update employee");i("✅ Employee updated successfully!"),b(!0),setTimeout(()=>{b(!1),i(""),s()},2e3),n()}catch(e){i("❌ Error: ".concat(e.message)),b(!0)}};return t&&(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-[60vw] max-w-4xl",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Edit Employee"}),o&&(0,l.jsxs)("div",{role:"alert",className:"flex items-center gap-2 p-3 rounded bg-yellow-100 text-yellow-700 border border-yellow-400 mb-4",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,l.jsx)("span",{children:o})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Role"}),(0,l.jsxs)("select",{className:"border p-2 rounded w-full bg-white text-black",value:x.role,onChange:e=>m({...x,role:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"Select Role"}),(0,l.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,l.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,l.jsx)("label",{className:"block text-gray-700 mt-2",children:"Name"}),(0,l.jsx)("input",{type:"text",placeholder:"Name",className:"border p-2 rounded w-full",value:d.name,onChange:e=>c({...d,name:e.target.value})}),(0,l.jsx)("label",{className:"block text-gray-700 mt-2",children:"Email"}),(0,l.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2 rounded w-full",value:d.email,onChange:e=>c({...d,email:e.target.value})}),(0,l.jsx)("label",{className:"block text-gray-700 mt-2",children:"Password"}),(0,l.jsx)("input",{type:"password",placeholder:"Password",className:"border p-2 rounded w-full",value:x.password,onChange:e=>m({...x,password:e.target.value})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Position"}),(0,l.jsx)("input",{type:"text",placeholder:"Position",className:"border p-2 rounded w-full",value:d.position,onChange:e=>c({...d,position:e.target.value})}),(0,l.jsx)("label",{className:"block text-gray-700 mt-2",children:"Department"}),(0,l.jsx)("input",{type:"text",placeholder:"Department",className:"border p-2 rounded w-full",value:d.department,onChange:e=>c({...d,department:e.target.value})}),(0,l.jsx)("label",{className:"block text-gray-700 mt-2",children:"Contact No."}),(0,l.jsx)("input",{type:"text",placeholder:"Contact No.",className:"border p-2 rounded w-full",value:d.contactNumber,onChange:e=>c({...d,contactNumber:e.target.value})}),(0,l.jsx)("label",{className:"block text-gray-700 mt-2",children:"Address"}),(0,l.jsx)("input",{type:"text",placeholder:"Address",className:"border p-2 rounded w-full",value:d.address,onChange:e=>c({...d,address:e.target.value})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Schedule Time In"}),(0,l.jsx)("input",{type:"time",className:"border p-2 rounded w-full",value:d.scheduleTimeIn,onChange:e=>c({...d,scheduleTimeIn:e.target.value})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-gray-700",children:"Schedule Time Out"}),(0,l.jsx)("input",{type:"time",className:"border p-2 rounded w-full",value:d.scheduleTimeOut,onChange:e=>c({...d,scheduleTimeOut:e.target.value})})]})]}),(0,l.jsxs)("div",{className:"flex justify-end mt-6",children:[(0,l.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:()=>s(),children:"Cancel"}),(0,l.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:y,children:"Update"})]})]})})},m=e=>{let{isOpen:t,onClose:s,employee:a,alertMessage:r}=e;if(!t)return null;let o=(0,n.useRouter)(),i=async()=>{try{if(!(await fetch("/employerAPI/deleteUser/".concat(a.employeeId),{method:"PATCH",headers:{"Content-Type":"application/json"}})).ok)throw Error("Failed to delete employee");s(),o.push("/manageEmployee")}catch(e){console.error("❌ Error deleting employee:",e),alert("❌ Error: ".concat(e.message))}};return(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Delete Employee"}),r&&(0,l.jsxs)("div",{className:"alert alert-warning flex items-center gap-2 p-3 rounded bg-yellow-100 text-yellow-700 border border-yellow-400",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,l.jsx)("span",{children:r})]}),(0,l.jsxs)("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete ",(0,l.jsx)("strong",{children:null==a?void 0:a.name}),"? This action cannot be undone."]}),(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:s,children:"Cancel"}),(0,l.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:i,children:"Delete"})]})]})})},x=()=>{let[e,t]=(0,r.useState)([]),[s,x]=(0,r.useState)(""),[u,h]=(0,r.useState)(null),[p,b]=(0,r.useState)(!1),[g,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(1),[w,v]=(0,r.useState)(null),[f,k]=(0,r.useState)(!1),C=(0,r.useRef)(null),[E,S]=(0,r.useState)(null),[A,T]=(0,r.useState)(!1),[I,P]=(0,r.useState)(!1),[L,D]=(0,r.useState)(null),[O,F]=(0,r.useState)(""),[M,R]=(0,r.useState)(!1),[U,_]=(0,r.useState)(""),z=()=>{v(null)},J=e=>{h(e),k(!0)},[W,q]=(0,r.useState)({name:"",email:"",position:"",department:"",contactNumber:"",address:"",scheduleTimein:"",scheduleTimeout:""}),[B,H]=(0,r.useState)({password:"",status:"Active",name:"",email:"",role:""}),V=(0,n.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("authToken")?Y():V.push("/")},[]);let Y=async()=>{try{let e=await fetch("/employerAPI/employee");if(!e.ok)throw Error("Failed to fetch employees");let s=await e.json(),l=await fetch("/employerAPI/user");if(!l.ok)throw Error("Failed to fetch users");let a=await l.json(),r=s.map(e=>{let t=a.find(t=>t.email===e.email);return t?{...e,status:t.status,password:t.password,role:t.role}:e});t(r)}catch(e){console.error("Error fetching employees or users:",e)}},$=e=>{v(w===e?null:e)},G=async()=>{try{let e=await fetch("/employerAPI/register");if(!e.ok)throw Error("Failed to fetch employee ID");let t=(await e.json()).employeeId;if(!W.name||!W.email||!W.position||!B.password||!B.role){y("⚠️ Please fill in all required fields (Name, Email, Position, Password, Role).");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W.email)){y("⚠️ Warning: Invalid email address!");return}y("");let s={...B,employeeId:t,name:W.name,email:W.email,status:"Active"},l=await fetch("/employerAPI/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok){let e=await l.json();throw Error(e.error||"Failed to register employee")}await l.json();let a={...W,email:W.email,employeeId:t},r=await fetch("/employerAPI/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to register employee")}b(!1),q({name:"",email:"",position:"",department:"",contactNumber:"",address:""}),H({password:"",status:"Active",name:"",email:"",role:""}),R(!0),F("User Registered Successfully"),_("alert-success"),setTimeout(()=>{console.log("Hiding toast now..."),R(!1)},3e3),Y()}catch(e){y("❌ Error: ".concat(e.message))}},K=e.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.position.toLowerCase().includes(s.toLowerCase())||e.department.toLowerCase().includes(s.toLowerCase())),Q=Math.ceil(K.length/5),X=5*j,Z=K.slice(X-5,X),ee=e=>{e>=1&&e<=Q&&N(e)};return(0,l.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search employees...",className:"border p-2 rounded w-1/3 bg-white text-black",value:s,onChange:e=>{x(e.target.value),N(1)}}),(0,l.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>b(!0),children:"Add Employee"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1",children:(0,l.jsxs)("div",{className:"card bg-white shadow-xl text-black p-10 ",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Employee List"}),M&&(0,l.jsx)(c.A,{toastMessage:O,toastStatus:U}),(0,l.jsxs)("div",{className:"overflow-x-auto min-h-[450px]",children:[(0,l.jsxs)("table",{className:"table table-xs",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-200",children:[(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Name"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Employee ID"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Email"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Position"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Status"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Department"}),(0,l.jsx)("th",{className:"px-4 py-2 border-b text-black text-center",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:Z.length>0?Z.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.name}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.employeeId}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.email}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.position}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.status}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center",children:e.department}),(0,l.jsx)("td",{className:"px-4 py-2 border-b text-black text-center relative",children:(0,l.jsxs)("div",{className:"relative inline-block",ref:C,onMouseLeave:z,children:[(0,l.jsx)("button",{className:"p-2 rounded-md hover:bg-gray-200",onClick:()=>$(e.id),children:(0,l.jsx)(o.A,{className:"w-5 h-5"})}),w===e.id&&(0,l.jsxs)("div",{className:"absolute right-0 w-32 bg-white border rounded-md shadow-md z-10",children:[(0,l.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:()=>{S(e),T(!0)},children:"Edit"}),(0,l.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:()=>{D(e),P(!0)},children:"Delete"}),(0,l.jsx)("button",{className:"block px-4 py-2 w-full text-left hover:bg-gray-100",onClick:()=>{J(e)},children:"View Attendance"})]})]})})]},e.id)):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"5",className:"text-center p-4 text-gray-500",children:"No employees found."})})})]}),(0,l.jsx)(i,{isModalOpen:f,closeModal:()=>{k(!1)},employee:u})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,l.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded",onClick:()=>ee(j-1),disabled:1===j,children:"Previous"}),(0,l.jsxs)("div",{className:"text-center text-black",children:["Page ",j," of ",Q]}),(0,l.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded",onClick:()=>ee(j+1),disabled:j===Q,children:"Next"})]})]})})]}),p&&(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:'"Add Employee"'}),g&&(0,l.jsxs)("div",{role:"alert",className:"alert alert-warning flex items-center gap-2 p-3 rounded bg-yellow-100 text-yellow-700 border border-yellow-400",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,l.jsx)("span",{children:g})]}),(0,l.jsxs)("select",{className:"border p-2 rounded w-full mb-2 mt-5 bg-white text-gray-600",value:B.role,onChange:e=>H({...B,role:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"Select Role"}),(0,l.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,l.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,l.jsx)("input",{type:"text",placeholder:"Name",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>q({...W,name:e.target.value})}),(0,l.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>q({...W,email:e.target.value})}),(0,l.jsx)("input",{type:"password",placeholder:"Password",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>H({...B,password:e.target.value})}),(0,l.jsx)("input",{type:"text",placeholder:"Position",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>q({...W,position:e.target.value})}),(0,l.jsx)("input",{type:"text",placeholder:"Department",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>q({...W,department:e.target.value})}),(0,l.jsx)("input",{type:"text",placeholder:"Contact no.",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>q({...W,contactNumber:e.target.value})}),(0,l.jsx)("input",{type:"text",placeholder:"Address",className:"border p-2 rounded w-full mb-2 custom-input-bg",onChange:e=>q({...W,address:e.target.value})}),(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsxs)("div",{className:"w-1/2 pr-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Schedule Check-in"}),(0,l.jsx)("input",{className:"border p-2 rounded w-full",type:"time",value:W.scheduleTimein,onChange:e=>q({...W,scheduleTimein:e.target.value})})]}),(0,l.jsxs)("div",{className:"w-1/2 pl-1",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Schedule Timeout"}),(0,l.jsx)("input",{className:"border p-2 rounded w-full",type:"time",value:W.scheduleTimeout,onChange:e=>q({...W,scheduleTimeout:e.target.value})})]})]}),(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("button",{className:"bg-gray-400 text-white px-4 py-2 rounded mr-2",onClick:()=>{b(!1),T(!1)},children:"Cancel"}),(0,l.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:G,children:'"Add"'})]})]})}),(0,l.jsx)(d,{isOpen:A,onClose:()=>{T(!1),Y()},employee:E,onUpdate:()=>{console.log("Toast should appear now!"),F("User Update Successfully"),_("alert-success"),R(!0),Y(),S(null),setTimeout(()=>{console.log("Hiding toast now..."),R(!1)},3e3)},alertMessage:g,setAlertMessage:y,setNewEmployee:q,newEmployee:W,setNewUser:H,newUser:B}),(0,l.jsx)(m,{isOpen:I,onClose:()=>{P(!1),Y()},employee:L,alertMessage:g})]})}},90919:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var l=s(95155);s(12115);let a=function(e){let{toastMessage:t,toastStatus:s}=e;return(0,l.jsx)("div",{className:"toast",children:(0,l.jsx)("div",{className:"alert ".concat(s),children:(0,l.jsx)("span",{className:"text-white",children:t})})})}},93137:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(95155),a=s(48173),r=s.n(a),n=s(12115),o=s(76046),i=s(689),c=s(87936),d=s(21354),m=s(13261),x=s(5565);let u=()=>{let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[p,b]=(0,n.useState)(null),[g,y]=(0,n.useState)(!1),j=(0,o.useRouter)(),N=(0,o.usePathname)(),w={"/employerDashboard":"Dashboard","/employeeMonitoring":"Employee Monitoring","/approvalRequest":"Approval Request","/manageEmployee":"Manage Employee","/employerReports":"Reports","/screenCaptureMonitoring":"Screen Capture"},v=w[N]||"Dashboard";return(0,n.useEffect)(()=>{let e=localStorage.getItem("user");e&&b(JSON.parse(e))},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("nav",{className:"bg-white shadow-md text-gray-600 relative z-50",children:[(0,l.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{className:"md:hidden text-red mr-3",onClick:()=>t(!e),children:e?(0,l.jsx)(i.A,{className:"w-6 h-6"}):(0,l.jsx)(c.A,{className:"w-6 h-6"})}),(0,l.jsx)("div",{className:"hidden md:flex space-x-6",children:Object.keys(w).map(e=>(0,l.jsx)(r(),{href:e,className:"".concat(N===e?"bg-[#FFFFFF] text-gray-700 font-semibold text-lg":"text-gray-400 text-base"," hover:bg-[#FFFFFF] hover:text-black px-2 py-2 rounded"),children:w[e]},e))})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"flex items-center space-x-2 text-black",onClick:()=>a(!s),children:[(0,l.jsx)("div",{className:"avatar avatar-online",children:(0,l.jsx)("div",{className:"w-9 h-9 rounded-full ring ",children:(0,l.jsx)(x.default,{src:"/img/user-icon.png",alt:"User Icon",width:60,height:60,className:"w-14 h-14 mr-4"})})}),(0,l.jsx)("span",{className:"text-gray-600",children:p?p.name:"Loading..."})]}),s&&(0,l.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black rounded-lg shadow-lg",children:[(0,l.jsxs)("div",{className:"p-2 border-b",children:[(0,l.jsx)("p",{className:"text-sm font-semibold",children:p?p.name:"Unknown"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:p?p.email:"No Email"})]}),(0,l.jsxs)("button",{onClick:()=>{a(!1),h(!0),setTimeout(()=>{h(!1),localStorage.removeItem("user"),localStorage.removeItem("authToken"),j.push("/")},2e3)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 flex items-center",children:[(0,l.jsx)(d.A,{className:"w-5 h-5 mr-2"}),"Logout"]})]})]})]}),(0,l.jsx)("div",{className:"".concat(e?"block":"hidden"," md:hidden bg-[#135D66] py-2"),children:Object.keys(w).map(e=>(0,l.jsx)(r(),{href:e,className:"".concat(N===e?"bg-[#0F4A55]":""," block px-4 py-2 text-white hover:bg-[#0F4A55]"),children:w[e]},e))}),u&&(0,l.jsxs)("div",{className:"absolute top-4 right-4 bg-green-600 text-white p-3 rounded-lg shadow-lg flex items-center",children:[(0,l.jsx)(m.A,{className:"w-5 h-5 mr-2"}),"Logging out..."]})]}),(0,l.jsx)("div",{className:"container mx-auto mt-6 p-6 bg-gray-700 shadow-xl flex justify-between items-center",children:(0,l.jsx)("h1",{className:"text-xl font-semibold text-white",children:v})})]})}},72757:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(14057).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[8376,8441,1517,7358],()=>t(83471)),_N_E=e.O()}]);