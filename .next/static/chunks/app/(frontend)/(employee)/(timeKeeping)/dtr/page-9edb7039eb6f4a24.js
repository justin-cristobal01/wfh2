(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6203],{56506:(e,t,r)=>{Promise.resolve().then(r.bind(r,33744))},33744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(95155),s=r(58640),l=r(76046),n=r(12115);let c=()=>{let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),[i,d]=(0,n.useState)(""),[o,h]=(0,n.useState)(""),u=(0,l.useRouter)();(0,n.useEffect)(()=>{m()},[i]);let m=async()=>{try{let e=localStorage.getItem("authToken");if(!e){u.push("/");return}let r=JSON.parse(localStorage.getItem("user")||"{}"),a=null==r?void 0:r.employeeId;if(!a){d("User ID not found"),h("error");return}let s=new URLSearchParams({employeeId:a}),l=await fetch("/employeeAPI/dtr?".concat(s.toString()),{headers:{Authorization:"Bearer ".concat(e)}});if(!l.ok)throw Error("Failed to fetch: ".concat(l.statusText));let n=await l.json();t(Array.isArray(n)?n:[n]),c(!1)}catch(e){d("Error fetching DTR data"),h("error"),c(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen shadow-md bg-white",children:[(0,a.jsx)(s.default,{}),i&&(0,a.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-lg shadow-lg border ".concat("error"===o?"bg-red-600 border-red-800":"bg-green-600 border-green-800"," text-white z-50"),children:i}),(0,a.jsx)("div",{className:"container mx-auto p-2 mt-2 text-black",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"overflow-x-auto h-[420px]",children:(0,a.jsxs)("table",{className:"table table-xs w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-200 sticky top-0",children:[(0,a.jsx)("th",{children:"Date"}),(0,a.jsx)("th",{children:"Time In"}),(0,a.jsx)("th",{children:"Time Out"}),(0,a.jsx)("th",{children:"Hours Rendered"})]})}),(0,a.jsx)("tbody",{children:e.length>0?e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)("td",{children:new Date(e.timeIn).toLocaleTimeString()}),(0,a.jsx)("td",{children:e.timeOut?new Date(e.timeOut).toLocaleTimeString():""}),(0,a.jsx)("td",{children:e.timeOut?(()=>{let t=new Date(e.timeIn),r=new Date(e.timeOut)-t,a=Math.floor(r/36e5),s=Math.floor(r%36e5/6e4);return"".concat(a,"h ").concat(s,"m")})():""})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center",children:"No DTR records available."})})})]})})})})]})}},32645:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(14057).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[5056,3690,6251,7087,3660,2674,272,8376,5927,9740,9038,8640,8441,1517,7358],()=>t(56506)),_N_E=e.O()}]);