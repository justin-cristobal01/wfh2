(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{57669:(e,t,s)=>{Promise.resolve().then(s.bind(s,9809))},76046:(e,t,s)=>{"use strict";var r=s(66658);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},9809:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(95155),a=s(12115),o=s(76046);s(30347);let l=()=>{let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),h=(0,o.useRouter)(),x=async()=>{if(!e||!s){i("Email and password cannot be empty!"),c("error");return}try{let t=await fetch("/employeeAPI/user?email=".concat(e,"&password=").concat(s),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw Error(r.error);i("Login successful!"),c("success"),localStorage.setItem("user",JSON.stringify({id:r.user.id,name:r.user.name,email:r.user.email,role:r.user.role,employeeId:r.user.employeeId})),localStorage.setItem("authToken",r.token),setTimeout(()=>{i(""),"ADMIN"===r.user.role?h.push("/employerDashboard"):"EMPLOYEE"===r.user.role?h.push("/dashboard"):h.push("/employerDashboard")},2e3)}catch(e){i(e.message),c("error")}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-r from-blue-900 to-teal-600 p-4",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Welcome to Employee Monitoring"}),n&&(0,r.jsx)("div",{className:"fixed top-6 right-6 px-4 py-2 rounded-lg shadow-lg text-white text-sm transition-transform ".concat("error"===u?"bg-red-600":"bg-green-600"),children:n}),(0,r.jsxs)("div",{className:"w-full max-w-md bg-white shadow-lg rounded-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-4",children:"Login"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium",children:"Email"}),(0,r.jsx)("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-teal-500 focus:outline-none",value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:d?"text":"password",placeholder:"Enter your password",className:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-teal-500 focus:outline-none",value:s,onChange:e=>l(e.target.value)}),(0,r.jsx)("button",{type:"button",onClick:()=>m(!d),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-teal-600",children:d?"\uD83D\uDE48":"\uD83D\uDC41ï¸"})]})]}),(0,r.jsx)("button",{onClick:x,className:"w-full bg-teal-600 text-white py-2 rounded-md text-lg font-semibold hover:bg-teal-700 transition",children:"Login"})]})]})]})}},30347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[7690,8441,1517,7358],()=>t(57669)),_N_E=e.O()}]);